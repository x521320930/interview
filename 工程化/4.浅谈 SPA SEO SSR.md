# 浅谈 SPA SEO SSR

## SPA (single page application)
  > SPA是一种 网络应用程序(WebApp)模型, 在传统的网站中，不同的页面之间的切换都是直接从服务器加载一整个新的页面，而在SPA这个模型中，是通过动态地重写页面的部分与用户交互，而避免了过多的数据交换，响应速度自然相对更高。

#### 目前常见的几个SPA框架
  - AngularJS
  - React
  - Vue.js
#### SPA的优点
  - 页面之间切换的非常快
  - 一定程度上减少后端服务器的压力
  - 后端只需要安心的提供API
#### SPA 缺点
  - 首屏打开速度慢，因为用户首次需要先加下载SPA框架及应用程序代码，然后在渲染页面
  - 不利于SEO

## SEO (Search Engine Optimization)
  > SEO是一种通过了解搜索引擎的运作规则（如何抓取网站页面，如何索引以及如何根据特定的关键字展现搜索结果排序等）来调整网站，以提高该网站在搜索引擎中某些关键词的搜索结果排名。
  [百度百科](https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96%E8%A7%84%E5%88%99/3917751?fr=aladdin "百度百科")
#### 规则
  > ##### 网页优化的title部分
  > 标题与关键字的符合度越高越好。网站建设前一定要认真的分析百度的相关关键字策略，对网站进行详细的关键字筛选。长尾关键词更有利于提高网站流量
  > ##### 网页的头部和底部
  > 尽量将关键字加到网站的头部和底部里面。不要刻意在乎关键词密度，只要你提供的内容是符合的，只要你的内容对于你的用户来说是重要的，不可缺少的，适当的加入些关键词在网站的头部和底部里，对于搜索引擎来说是可以的。
  > ##### 外链非常重要
  > 外链决定了网站在索引引擎中的排名，但并不是说外链多，排名一定就高，毕竟决定网站排名的因素还有很多，外链只不过是其中的一个重要部分。发外链要有一定的技巧和方法，不能盲目的发。
  > ##### 内容优化的灵魂
  > 只有质量高的内容才会吸引搜索引擎的到来，而且要保持天天更新，以便蜘蛛来访的时候有新鲜血液抓取。最好的方法是定时更新网站，每天保持下去。内容最好是原创的。
  > ##### 服务器域名的选择
  > 选择一个好的域名，能够让人一下子记住的域名。不论是搜索引擎抓取，还是用户体验来说，都是非常好的。
  > ##### 优化全站同时进行
  > 每个内容页都必须有您想优化的关键字，尤其是相关关键字，内容页尽量不要采集，尤其是文章开头的100个字最好不要与其它站的页面相同。
  > ##### 重视网站目录
  > 好的目录排列会让搜索引擎很轻松的找到网站的内容，排名自然就高，试想一下，要是你的很多目录结构乱七八糟，目录名称不知所云，百度蜘蛛进了你的网站，如同进了迷宫，会有好的体验吗?答案是否定的。所以合理布局网站目录，对于网站来说是非常重要的。

<!-- ## 为什么SPA对SEO不友好
  > 前面说了SPA的缺点对SEO不友好, 也谈到了SEO的相关规则，也能了解 ，SEO进行访问SPA应用时, 难以保证我们的页面能被搜索引擎正常收录到

  [VUE-SSR](https://ssr.vuejs.org/zh/) 说到过这么一句话
  > 如果你的应用程序初始展示 loading 菊花图，然后通过 Ajax 获取内容，抓取工具并不会等待异步完成后再行抓取页面内容。 -->

## SSR Server-Side Rendering
  > 在普通的SPA中，一般是将框架及网站页面代码发送到浏览器，然后在浏览器中生成和操作DOM, 但其实也可以将SPA应用打包到服务器上，在服务器上渲染出HTML，发送到浏览器，这样的HTML页面还不具备交互能力，所以还需要与SPA框架配合，在浏览器上“混合”成可交互的应用程序。所以，只要能合理地运用SSR技术，不仅能一定程度上解决首屏慢的问题，还能获得更好的SEO。

#### SSR的优点
  - 更快的响应时间，不用等待所有的JS都下载完成，浏览器便能显示比较完整的页面了
  - 更好的SSR，我们可以将SEO的关键信息直接在后台就渲染成HTML，而保证搜索引擎的爬虫都能爬取到关键数据。
#### SSR的缺点
  - 相对于仅仅需要提供静态文件的服务器，SSR中使用的渲染程序自然会占用更多的CPU和内存资源
  - 开发调试会有一些麻烦，因为涉及了浏览器及服务器，对于SPA的一些组件的生命周期的管理会变得复杂
  - 可能会由于某些因素导致服务器端渲染的结果与浏览器端的结果不一致。


#### SSR常用框架
  - React 的 [Next](https://nextjs.org/)
  - Vue 的 [Nuxt](https://nuxtjs.org/)

## 总结 
  - SSR 搜索引擎爬虫抓取工具可以直接查看完全渲染的页面
  - SSR 解决首屏慢的问题